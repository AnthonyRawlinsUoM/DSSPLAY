<fui-sidebar-container>
    <fui-sidebar
        [transition]="'overlay'"
        [isVisible]="show_sidebar"
        class="inverted vertical very wide translucent raised segment"
        direction="right"
        #sidebar
    >
        <div class="ui inverted dense segment">
            <app-metrics
                [mode]="'mapping'"
                (metricsChange)="onMetricsChange($event)"
            >
            </app-metrics>
            <app-choiceflow></app-choiceflow>
            <app-mapping-options
                [(metrics)]="metrics"
                (fuelChange)="onFuelChange($event)"
                (harvest_on)="on_harvesting($event)"
                (burnTargetsChange)="onBurnTargetsChange($event)"
            >
            </app-mapping-options>
        </div>

    </fui-sidebar>

    <fui-sidebar-sibling
        [isDimmedWhenVisible]="false"
        class="fullscreen"
    >

        <div class="ui inverted bdazzledblue menu toolbar top attached">
            <div class="right menu">
            <a
                class="item"
                (click)="show_sidebar = !show_sidebar"
                (mouseover)="show_sidebar = true;"
            >
                <i class="wrench icon"></i> Tools
            </a>
            </div>
        </div>

        <fui-dimmer [(isDimmed)]="tableIsDimmed" isClickable="false">
        <div class="loader"></div></fui-dimmer>

        <app-barchart
        [(dataframe)]="dataframe"
        [metrics]="metrics"
        [burnTargets]="burnTargets">
        </app-barchart>

        <app-dataframe-table
            [results]="results"
            (orderChange)="onOrderChange($event)"
            (limitChange)="onLimitChange($event)"
        >
        </app-dataframe-table>



        <!-- <app-sql-builder [the_query]="query"></app-sql-builder> -->

    </fui-sidebar-sibling>
</fui-sidebar-container>
