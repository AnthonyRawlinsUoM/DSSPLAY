<div class="ui inverted menu raised toolbar">
    <div class="right menu">

        <a
            class="item"
            (click)="sidebar.toggle()"
        >
            <i class="wrench icon"></i> Tools
        </a>
    </div>
</div>
<div class="ui fullscreen">

    <sui-sidebar-container>
        <sui-sidebar
            [transition]="'overlay'"
            [isVisible]="true"
            class="inverted vertical very wide translucent raised segment"
            direction="right"
            #sidebar
        >

            <div class="ui inverted dense segment">
                <app-metrics
                    [mode]="'mapping'"
                    (metricsChange)="onMetricsChange($event)"
                >
                </app-metrics>
                <app-choiceflow></app-choiceflow>
                <app-mapping-options
                    [(metrics)]="metrics"
                    (burnTargetsChange)="onBurnTargetsChange($event)"
                >
                </app-mapping-options>
            </div>




        </sui-sidebar>
        <sui-sidebar-sibling
            [isDimmedWhenVisible]="false"
            class="map"
        >

            <div
                class="ui vertical panel"
                #viewpaneltest
            >
                <div
                    class="ui inverted panel"
                    resizable
                >
                    <!-- <div *ngIf="sources.length > 0"> -->
                    <mgl-map
                        [style]="style"
                        [zoom]="zoom"
                        [center]="[145.769, -37.721]"
                        [fitBounds]="bounds"
                        [fitBoundsOptions]="boundsOptions"
                        (mouseMove)="mousemove($event)"
                        (load)="mapLoaded($event)"
                        #mapview
                    >

                        <!-- <mgl-geojson-source
                  id="src.id"
                  [data]="src.data"
                  *ngFor="let src of sources">

                  <mgl-feature
                  *ngFor="let geometry of src.geometries"
                  [geometry]="geometry"></mgl-feature>

                </mgl-geojson-source>

                <mgl-layer
                  *ngFor="let lyr of sources.layers"

                  id="lyr.name"
                  type="line"
                  [source]="lyr.source"
                  [paint]="{
                    'line-color': '#627BC1',
                    'line-width': 2
                  }"
                ></mgl-layer> -->

                    </mgl-map>
                    <!-- </div> -->
                </div>
                <div class="ui divider handle"></div>
                <div
                    class="ui inverted panel segment"
                    resizable
                >
                    <h2 class="ui header">bottom section</h2>
                    <div class="ui placeholder">
                        <div class="paragraph"></div>
                    </div>
                </div>
            </div>



        </sui-sidebar-sibling>
    </sui-sidebar-container>
</div>