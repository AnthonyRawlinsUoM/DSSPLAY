<div class="ui top attached inverted black menu">
    <div class="right menu">

    <a class="item" (click)="sidebar.toggle()">
        <i class="wrench icon"></i> Tools
    </a>
  </div>
</div>
<sui-sidebar-container class="ui bottom attached segment">
    <sui-sidebar
     [transition]="'overlay'"
     [isVisible]="true"
     class="inverted vertical very wide translucent raised segment"
     direction="right"
     #sidebar>

     <div class="ui inverted dense segment">

     <sui-accordion [closeOthers]="false" class="ui inverted accordion">
         <sui-accordion-panel [isOpen]="true" class="attached segment">
             <div title>
                 <i class="dropdown icon"></i>
                 Metrics
             </div>
             <div class="ui inverted attached segment" content>
               <app-metrics
               [mode]="'spatial'"
               (metricsChange)="metrics = $event"
               ></app-metrics>
             </div>
         </sui-accordion-panel>
         <sui-accordion-panel [(isOpen)]="options_panel" class="attached segment">
             <div title>
                 <i class="dropdown icon"></i>
                 Options
             </div>
             <div class="ui inverted attached segment" content>

               <app-spatial-options
               (burnTargetsChange)="burnTargets = $event"
               [(metrics)] = "metrics">
             </app-spatial-options>

             </div>
         </sui-accordion-panel>
         <sui-accordion-panel [(isOpen)]="export_panel" class="attached segment">
             <div title>
                 <i class="dropdown icon"></i>
                 Export
             </div>
             <div class="ui inverted attached segment" content>
                 <app-spatial-export></app-spatial-export>
             </div>
         </sui-accordion-panel>
     </sui-accordion>
     </div>




    </sui-sidebar>
    <sui-sidebar-sibling [isDimmedWhenVisible]="false" class="map">
            <!-- <div *ngIf="sources.length > 0"> -->
              <mgl-map
              [style]="style"
               [zoom]="zoom"
               [center]="[145.769, -37.721]"
               [fitBounds] = "bounds"
               [fitBoundsOptions]="boundsOptions"
               (mouseMove)="mousemove($event)"
               (load)="mapLoaded($event)"


               #mapview>

              <!-- <mgl-geojson-source
                id="src.id"
                [data]="src.data"
                *ngFor="let src of sources">

                <mgl-feature
                *ngFor="let geometry of src.geometries"
                [geometry]="geometry"></mgl-feature>

              </mgl-geojson-source>

              <mgl-layer
                *ngFor="let lyr of sources.layers"

                id="lyr.name"
                type="line"
                [source]="lyr.source"
                [paint]="{
                  'line-color': '#627BC1',
                  'line-width': 2
                }"
              ></mgl-layer> -->

             </mgl-map>
            <!-- </div> -->
    </sui-sidebar-sibling>
</sui-sidebar-container>
